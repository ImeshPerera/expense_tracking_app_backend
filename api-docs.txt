# Expense Tracking App - API Documentation

## Base URL
http://localhost:3000

---

## Authentication APIs

### 1. Register User
- **URL:** `/auth/register`
- **Method:** `POST`
- **Headers:** `Content-Type: application/json`
- **Body Parameters:**
  - `username` (string, required)
  - `email` (string, email format, required)
  - `password` (string, required)
- **Success Response:** `201 Created`

### 2. Login User
- **URL:** `/auth/login`
- **Method:** `POST`
- **Headers:** `Content-Type: application/json`
- **Body Parameters:**
  - `email` (string, email format, required)
  - `password` (string, required)
- **Success Response:** `200 OK` (returns JWT token)

---

## Expense Management APIs (Requires Authorization)
*Note: All these requests require an `Authorization` header with a valid JWT token (Bearer token).*

### 1. Add New Expense
- **URL:** `/process/`
- **Method:** `POST`
- **Headers:**
  - `Content-Type: multipart/form-data`
  - `Authorization: Bearer <your_token>`
- **Body Parameters:**
  - `amount` (number, positive, required)
  - `categoryId` (number, required)
  - `date` (date, ISO format, required)
  - `description` (string, optional, max: 255)
  - `ref_image` (file, image format, optional)
- **Success Response:** `201 Created`

### 2. Update Expense
- **URL:** `/process/`
- **Method:** `PUT`
- **Headers:**
  - `Content-Type: multipart/form-data`
  - `Authorization: Bearer <your_token>`
- **Body Parameters:**
  - `expenseId` (number, required)
  - `amount` (number, positive, required)
  - `categoryId` (number, required)
  - `date` (date, ISO format, required)
  - `description` (string, optional, max: 255)
  - `ref_image` (file, image format, optional)
- **Success Response:** `200 OK`

### 3. Delete Expense
- **URL:** `/process/`
- **Method:** `DELETE`
- **Headers:**
  - `Content-Type: application/json`
  - `Authorization: Bearer <your_token>`
- **Body Parameters:**
  - `expenseId` (number, required)
- **Success Response:** `200 OK`

### 4. Get Expenses (With Filtering, Pagination & Search)
- **URL:** `/process/`
- **Method:** `GET`
- **Headers:**
  - `Authorization: Bearer <your_token>`
- **Query Parameters:**
  - `start` (date, ISO format, optional)
  - `end` (date, ISO format, optional)
  - `limit` (number, default: 20, optional)
  - `offset` (number, default: 0, optional)
  - `search` (string, optional)
- **Success Response:** `200 OK` (returns list of expenses with category details)

### 5. Get Expenses All
- **URL:** `/process/all`
- **Method:** `GET`
- **Headers:**
  - `Authorization: Bearer <your_token>`
- **Success Response:** `200 OK` (returns list of all user expenses)

### 6. Get Categories
- **URL:** `/process/categories`
- **Method:** `GET`
- **Headers:**
  - `Authorization: Bearer <your_token>`
- **Success Response:** `200 OK` (returns list of available categories)

---

## Analytics APIs (Requires Authorization)

### 1. Stats Summary
- **URL:** `/process/stats/summary`
- **Method:** `GET`
- **Headers:**
  - `Authorization: Bearer <your_token>`
- **Query Parameters:**
  - `start` (date, ISO format, optional)
  - `end` (date, ISO format, optional)
- **Success Response:** `200 OK` (returns { total_spent, average, count })

### 2. Stats By Category
- **URL:** `/process/stats/by-category`
- **Method:** `GET`
- **Headers:**
  - `Authorization: Bearer <your_token>`
- **Query Parameters:**
  - `start` (date, ISO format, optional)
  - `end` (date, ISO format, optional)
- **Success Response:** `200 OK` (returns list of totals grouped by category)

### 3. Stats Trend
- **URL:** `/process/stats/trend`
- **Method:** `GET`
- **Headers:**
  - `Authorization: Bearer <your_token>`
- **Query Parameters:**
  - `start` (date, ISO format, optional)
  - `end` (date, ISO format, optional)
  - `period` (string: 'day', 'week', 'month', 'year', default: 'day')
- **Success Response:** `200 OK` (returns aggregated totals based on period)

Database - expense_tracking_app